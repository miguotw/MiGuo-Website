---
layout: default
---

<!-- begin post -->
<div class="container">
  <div class="section__inner">

    <div class="row">
      <div class="col col-8 col-w-10 col-d-12 push-2 push-w-1 push-d-0">

        <div class="page-hero">

          <div class="page-hero__inner">
            {% if page.tags.size >= 1 %}
            <div class="page-tags">
              {% for tag in page.tags %}
              <a href="{{ site.baseurl }}/tags/?tag={{ tag | downcase | url_encode }}" class="page-tag">{{ tag }}</a>
              {% endfor %}
            </div>
            {% endif %}
            {% if page.title %}
            <h1 class="page-hero__title">{{ page.title }}</h1>
            {% endif %}
            {% if page.description %}
            <p class="page-hero__description">{{ page.description }}</p>
            {% endif %}
          </div>

          <div class="page-info">
            <div class="page-meta">
              <a href="{{ '/about/' |relative_url }}" class="page-meta__image">
                <img class="lazy" data-src="{{ site.data.settings.author.author_avatar | relative_url }}"
                  alt="{{ site.data.settings.author.author_name }}">
              </a>

              <div class="page-meta__content">
                <a class="page-meta__author" href="{{ '/about/' |relative_url }}">{{ site.data.settings.author.author_name
                  }}</a>
                <div class="page-meta__bottom">
                  <time class="page-date" datetime="{{ page.date | date_to_xmlschema }}">{% assign date_format = site.minima.date_format | default: "%d %-b, %Y" %}{{ page.date | date: date_format }}</time> –
                  <span class="page-minutes">
                    {% assign words = page.content | number_of_words %}
                    {% if words < 360 %} 約 1 分鐘可閱讀完畢 {% else %} 約 {{ words | divided_by:180 }} 分鐘可閱讀完畢 {% endif %} </span>
                </div>
              </div>
            </div>
            {% include share-buttons.html %}
          </div>

        </div>

        <div class="page-head">
          {% if page.video_embed %}
          <div class="page-video">
            <div class="page-video__wrap">
              <iframe src="{{ page.video_embed }}" loading="lazy" width="640" height="360" frameborder="0"
                webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>
            </div>
          </div>
          {% endif %}
        </div>

        <article class="post">
          <div class="post__content">
            {% if page.toc == true %}
            <details class="post__toc">
              <summary>Table of Contents</summary>
              {% include toc.html html=content ordered=true class="post__toc__list" h_min=2 %}
            </details>
            {% endif %}
            {{ content }}
          </div>

          {% include page-navigation.html %}

          {% if site.data.settings.disqus.enable == true and site.data.settings.disqus.disqus_identifier %}
            {% include disqus-comments.html %}
          {% endif %}
        </article>

      </div>
    </div>

  </div>
</div>
<!-- end post -->

{% assign maxRelated = 3 %}
{% assign minCommonTags = 1 %}
{% assign maxRelatedCounter = 0 %}

{% for post in site.posts %}
  {% assign sameTagCount = 0 %}
  {% assign commonTags = '' %}
  {% for tag in post.tags %}
    {% if post.url != page.url %}
      {% if page.tags contains tag %}
        {% assign sameTagCount = sameTagCount | plus: 1 %}
      {% endif %}
    {% endif %}
  {% endfor %}
  {% if sameTagCount >= minCommonTags %}
    {% assign related = 'is-related' %}
  {% endif %}
{% endfor %}

<!-- begin section-related -->
<section class="section section-related {{related}}">
  <div class="container">
    <div class="section__inner">

      <div class="section__head">
        <h2 class="section__title">推薦</h2>
      </div>

      <div class="row">
        {% for post in site.posts %}
          {% assign sameTagCount = 0 %}
          {% assign commonTags = '' %}

          {% for tag in post.tags %}
            {% if post.url != page.url %}
              {% if page.tags contains tag %}
                {% assign sameTagCount = sameTagCount | plus: 1 %}
                {% capture tagmarkup %} <span class="label label-default">{{ tag }}</span> {% endcapture %}
                {% assign commonTags = commonTags | append: tagmarkup %}
              {% endif %}
            {% endif %}
          {% endfor %}

          {% if sameTagCount >= minCommonTags %}

            {% include article.html class="col col-4 col-w-6 col-t-12" %}

          {% assign maxRelatedCounter = maxRelatedCounter | plus: 1 %}
              {% if maxRelatedCounter >= maxRelated %}
                {% break %}
              {% endif %}
            {% endif %}
          {% endfor %}
      </div>

    </div>
  </div>
</section>
<!-- end section-related -->

{% include section-resources.html %}